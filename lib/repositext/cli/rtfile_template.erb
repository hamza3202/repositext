# This is an example Rtfile with default settings that run out of the box.
# Modify the DSL methods below to suit your repository layout.

# File patterns
# -------------

# Provide a name and a file pattern string (or block that returns a string) for
# each file pattern.
# It is recommended to expand paths relative to the location of this Rtfile
# so that they work independently of the user's current working directory.
# (Rather than using the current working directory).

# Matches all FOLIO XML files in the import directory
file_pattern :import_folio_xml, File.expand_path("initial_folio_import/folio/**/*.xml", File.dirname(__FILE__))
# Matches all AT files in the FOLIO XML import directory
file_pattern :import_folio_xml_at_files, File.expand_path("initial_folio_import/folio/**/*.at", File.dirname(__FILE__))
# Matches all IDML files in the import directory
file_pattern :import_idml, File.expand_path("initial_idml_import/idml/**/*.idml", File.dirname(__FILE__))
# Matches all AT files in the IDML import directory
file_pattern :import_idml_at_files, File.expand_path("initial_idml_import/idml/**/*.at", File.dirname(__FILE__))
# Matches all files in master directory
file_pattern :master, File.expand_path("master/**/*", File.dirname(__FILE__))
# Matches all AT files in the staging directory
file_pattern :staging_at, File.expand_path("staging/**/*.at", File.dirname(__FILE__))

# Kramdown Parsers
# ----------------

# Provide a name and a Parser's class name as string

kramdown_parser :folio_xml, 'Kramdown::Parser::Folio'
kramdown_parser :idml,      'Kramdown::Parser::Idml'

# Kramdown Converter Methods
# --------------------------

# Provide a name and a method name to be used for conversion.

kramdown_converter_method :to_at,         :to_kramdown
kramdown_converter_method :to_icml,       :to_icml
kramdown_converter_method :to_idml_story, :to_icml_story
kramdown_converter_method :to_plain_text, :to_plain_text
